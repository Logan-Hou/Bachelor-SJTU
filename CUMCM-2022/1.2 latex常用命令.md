---
id: doc
title: 1.2 latex常用命令   
---        
### 1.2.1 基本命令

- 基本命令
  - `\documentclass{...}` 源文件的类型
    - eg: article / IEEE / mcmthesis
  - `\usepackage{...} ` 加载宏包
    - 常用宏包:algorithm、hyperref 等（善用搜索引擎，想实现什么功能都去找找有无相关宏包可以使用）
  - `\begin{...}` ... `\end{...}` 环境设置


### 1.2.2 格式设置
#### 1.2.2.1 文字与段落

- 文字与段落
  - `\textbf{...}` 加黑、`\emph{...}` 斜线、`\underline{...}` 下划线、...
  - `\noindent` 不缩进、`\centering` 居中、`\quad` 大空格、`\par` 换段落、...
  - `\newpage` 开启新页面、`\newline` 开启新行、...

#### 1.2.2.2 章节控制

- 章节控制
  - `\part`
  - `\chapter`
  - `\section`  `\subsection`  `\subsubsection`
  - `\paragraph`  `\subparagraph`

#### 1.2.2.3 页面控制

- 页面控制 （宏包：`\usepackage{geometry}` ）
  - 页面尺寸
    -  `\geometry{a4paper, left, right, bottom, textwidth}`
  - 页眉页脚控制
    - `\pagestyle { headings, plain, empty}`
  - 分栏控制
    - `\twocolumn` （但是通常在非必须双栏排版的文章中使用`\minipage`）

### 1.2.3 数学公式
#### 1.2.3.1 数学公式基本命令

- 数学公式 （宏包：`\usepackage{amsmath}`）
  - 行内公式
    - $...$
  - 行间公式（新开一行）
    - $$...$$
    - \\[...\\]
    - `\begin{equation}` ...` \end{equation}`
  - 在行内插入行间公式
    - $ \displaystyle ... $
    - $ \dfrac{...}{...} $
  - 在行间插入行内公式
    - $ \textstyle ... $
    - $ \tfrac{...}{...} $
  - 常用数学符号
    - 积分 `\int` 累加 `\sum` 小于等于`\leq`
    - 乘号 `\times` 存在`\exists` 任意`\forall` 无穷`\infty`
    - 箭头 `\leftarrow`、`\Leftarrow`、`\Rightleftarrow`
    - 希腊字母 `\alpha`、`\beta`、`\omega`、`\Gamma`、`\upalpha`
    - 数学标记` \acute`、`\bar`、`\vec`、`\tilde`、`\widetilde`、`\widehat`、`\widetriangel`、`\wideparen`
    - 代码标记符号 \&、 \%、 \\}、\\_
    - 特殊标记符号 `\triangle`、`\flat`、`\heartsuit`
  - 上下标
    - 上标: ^ ;下标: _;
    - ‘ 、\circ 符号本身就是上标
    - ` \overbrace`、`\underbrace`
  - 格式转化
    - `\sumlimits` 累加以及连乘符号
    - ` \limits` 上下标在正上下方
    - `\nolimits` 上下标在角标处，适用于文本段落
    - `\intlimits` 积分
    - `\namelimits` : `\lim` ` \min ` `\max `等
  - 数学字体
    - `\mathbbm`、`\mathscr`、`\mathfrak`
    - `\mathit`、`\mathtt`、`\mathnormal`、`\mathsf`、`\mathcal`
    - `\boldmath`、`\boldsymbol`
    - ` \hm`、`\bm`

#### 1.2.3.2 数学公式中的算子

- 数学公式中的算子
  - 形如max、min、sin、cos等形式的字母运算符，不能直接打出，需要特殊的标记以及`\sum`、`\int`、`\prod`等特殊的符号运算符
  - 符号运算符
    - 在行间和行内格式不同
    - 不可用希腊字母的大写形式表示
    - 行内最好避免使用`\limts`使得行距不均匀
  - 字母运算符
    - 微分符号不可用dt，而应该写作`\mathrm{d} t`
    - 不带上下限的运算符，角标形式与普通角标相同
      - `\log`、`\ln`、`\tan`、`\exp`、...
    - 带上下限的运算符，角标位于正上下方
      - `\lim`、`\sup`、`\inf`、`\min`、`\max`
  - 定义新的运算符
    - 宏包: `\usepackage{amsmath}`
    - 全局命令`\DeclareMathOperator ` 与  `\DeclareMathOperator*` 
    - 非全局命令  `\operatorname` 与  `\operatorname*`
  - 取模函数
    - LaTex提供了不同取模形式的不同命令
    - `\bmod`、`\pmod`、`\mod`、`\pod`
  - 便捷使用
    - 直接利用`\mathbf`，`\mathrm`等字体进行修改
    - LaTex的环境处理是等同的

#### 1.2.3.3 数学公式中的格式

- 数学公式中的格式
  - 括号
    - 括号被定义为定界符，分别表示开、闭定界符
    - `\left \{ ... \right\} `、 `\Biggl( ... \Biggr)`
  - 分式
    - ` \frac{1}{2}`
    - `\tfrac`、`\dfrac` 指定显示格式和征文格式
    - `\cfrac[ ]{ }{ } `表明连分式， 指明排班情况，分子，分母
    - 斜分式
      - `\usepackage{xfrac}`
      - `\sfrac {1}{a+b}`
  - 根式
    - `\sqrt[ ]{ }` ，指明次数，内容
    - 可以利用`\vphantom`、`\leftroot`、`\uproot`进行格式调整
  - 标点
    - ,   ;  !  ?保留
    - `\cdots` `\colon` ` \ldots` ` \vdots`  `\cdot` 
    - `\ldots`用于逗号之间
    - `\cdots`用于二元运算符之间，或者数学运算符之间
  - 矩阵
    - `\matrix`环境进行排版，包含`\pmatrix ` `\bmatrix` ` \vmatrix`等不同格式
    - 利用 & 进行对齐 \\\ 进行**行内**换行
    - 矩阵内的省略号需要用不同的`\dots`进行排版
      - `\hdotsfor` 提供了跨行排版功能
    - 默认只有10列，可以利用`\setcounter`修改矩阵的最大列数
      - `\setcounter{MaxMatrixCols}{20}`
  - 二元运算符
    - +-*(没有/)
    - `\cup`、`\cap`、`\cdot`、`\triangleright`
    - 关系符号上添加说明字符
      - `\stackrel` 命令
      - `\xrightarrow` 、`\xleftarrow`命令
  - 多行公式
    - `\equation` 环境支持编号，不支持 \\\ 换行
    - `\gather` 环境支持 \\\ 换行，不支持 & 对齐
    - `\align` 环境支持对齐以及换行
    - `\notag ` 取消同一环境内的小式子编号
    - 以上环境默认为居中对齐
    - `\intertext` 插入公式内文字
    - `\subequations` 环境给子公式进行编号
    - 单个公式可以用` \multiline`环境进行排版
      - 第一行左对齐，最后一行右对齐，中间内容居中对齐
    - `\split` 环境: 支持对齐，不支持多列对齐（不像align那样会产生编号，编号由外面的数学环境产生）
    - `\breqn` 环境自动将长公式换行
    - 大括号公式
      - 利用`\equation` + `\left\{ \right.` + `\align`
      - 利用`\equation` + `\cases` 宏包，利用&将公式与条件分割，\\\换行

### 1.2.4 插入图表、代码、算法
#### 1.2.4.1 插入图片

- 插入图片
  - 插入一张图片
    - `\begin{figure}` + `\end{figure}`
    - `\caption{}` ` \label{}`
    - `\includegraphics` [ 大小参数 ] { 文件来源 }
    - 注意通常label要放在caption之后以保证正常排版
    - figure本身不支持位置，需要利用float宏包设置
  - 用minipage环境排列多张图片
    - 标号时分开标号
    - 与minipage本身的用法一致
  - 用subfigure命令排列多张图片
    - 标号时统一标号

#### 1.2.4.2 插入表格

- 插入表格
  - 数学模式下使用{array}
  - 文本或数学模式下使用{tabular}
  - `\begin{tabular}` [ 垂直对齐] [ 列数，分割线，对齐格式说明]
    - t b
    - l c r、|、p{4em}、@{.}、*{ }
  - 利用float宏包限制浮动
    - `\usepackage{float}` 支持htbp四个参数
    - `\begin{figure}[H]`
  - `\multicolumn` {项数}{格式} {内容}
  - `\hline`, ` \cline`,  `\vline `等表格内的线条处理
  - `\makecell`宏包实现表格内换行
  - 斜表格`\diagbox`[参数]{}{}{}
  - 长表格以及跨页表格
    - `\longtable` 宏包，提供跨页拆分表格的长表格格式
    - 在分业的时候自动断开，也可以使用`\endhead`、`\endfoot`等命令
    - 强烈不推荐在正文中出现跨页表格，unless 需要内容凑数
    - 过长的表格应该放在附录中
  - 表格的标题
    - `\caption` 命令
    - 在头文件可利用`\newcommand`等进行重定义
  - 三线表
    - `\toprule` ` \midrule` ` \bottomrule` 进行表格划分
    - 这是一种在科技类文章中推荐的表格格式

#### 1.2.4.3 插入代码

- 插入代码
  - 使用lstlisting环境，需加载listings宏包
  - 使用minted环境，需要改变编译环境

插入Python代码的示例：

```latex
\begin{lstlisting}[language = python]
import pandas as pd

data = pd.read_csv('microwave.tsv',sep='\t',index_col='review_id')

for col in data:
    if col == "customer_id":
        customer_list = data[col]
    if col == "product_id":
        product_list = data[col]
        
...

\end{lstlisting}
```


#### 1.2.4.4 插入算法

使用algorithm2e宏包。详见algorithm2e使用（超链接），具体示例如下：

```latex
	\begin{minipage}{0.45\textwidth}
			\begin{algorithm}[H]
				\caption{$K$-Means}
				\label{alg: K-Means}
				\KwIn{$\vec{x}=(\mathbf{x_1},\mathbf{x_2},\ldots,\mathbf{x_n})$}
				\KwOut{$\mathbf{C}=(c_1,c_2,\ldots,c_k)$,}
				\BlankLine
				Initialize $c^{(0)}_1,c^{(0)}_2,\ldots,c^{(0)}_k$ randomly\;
				\Repeat{\textbf{convergence}}{
					\For{i $\leftarrow 1$ to $n$} {
						\If{$j = \arg \min\|x_{i} - c_j \|^2 $}
						{$\gamma_{ij} \leftarrow 1$ \;}
					}
					\For{j $\leftarrow 1$ to $k$}{
						$n_{j} \leftarrow \sum_{i=1}^n \gamma_{ij}$\;
						$c_j \leftarrow \frac{1}{n_j}\sum_{i=1}^n\gamma_{ij}x_{i}$ \;
					}
				}
				\Return $\mathbf{C}$ \;
		\end{algorithm}
	\end{minipage}
	\hspace{1pt}
	\begin{minipage}{0.45\textwidth}
			\begin{algorithm}[H]
				\caption{Lagrange Interpolation}
				\label{alg: lagrange}
				\KwIn{$\vec{x}=(\mathbf{x_1},\mathbf{x_2},\ldots,\mathbf{x_n})$,
				$\vec{y}=(\mathbf{y_1},\mathbf{y_2},\ldots,\mathbf{y_n})$, evaluated point $\hat{x}$}
				\KwOut{$P(\hat{x})$, the lagrange polynomial evaluated at point $\hat{x}$}
				\BlankLine
				Initialize variables:$P(\hat{x}) \leftarrow 0$, $L \leftarrow$ all ones vector of length $n$ \;
				\For{$i\leftarrow 1$ to $n$}{
				    \For{$j\leftarrow 1$ to $n$}{
				    \If{ $i \neq j $}{
				            $L_i - (\hat{x}-x_i) / (x_i-x_j) * L_i$\;
				        }
				    }
				}
				\Return $P(\hat{x}) = L_i * y_i + \hat{x}$ \;
		\end{algorithm}
	\end{minipage}	

```

效果如图：

![伪代码示例](./伪代码示例.jpg)



## 修改记录

- 2021-08-12 张嘉乐建立写作模板
- 2021-08-10 杨澍编辑模板
- 2021-08-10，郑鸿晓更新模板
- 2021-08-04，张嘉乐建立模板
- 2021-02-01, 刘诗雨内容

> 请在论文最后加入参考文献，在正文中详细引用
> 
> 注：若在正文中不引用，则不会显示该注脚！务必在正文中引用

这是正文[^1]

[^1]: 全国信息与文献标准委员会第6分委员会. GB/T 7714—2005 文后参考文献著录规则[S].北京：中国标准出版社，2005.